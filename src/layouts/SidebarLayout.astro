---
import { profileData } from "@/data/profile.data";
import Layout from "./Layout.astro";
import { ModeToggle } from "@/components/ModeToggle";
import SocialLink from "@/components/SocialLink.astro";
import MobileMenuToggle from "@/components/MobileMenuToggle.astro";
import SidebarOverlay from "@/components/SidebarOverlay.astro";
import ProfileSection from "@/components/ProfileSection.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<MobileMenuToggle />

<SidebarOverlay />

<!-- Sidebar Container -->
<div
  id="sidebar"
  class="fixed top-0 left-0 h-screen w-64 dark:bg-gray-800 shadow-lg border-r border-gray-300 dark:border-gray-700 transform -translate-x-full transition-transform duration-300 lg:translate-x-0 z-40"
>
  <ProfileSection />
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("sidebar-overlay");

    menuToggle.addEventListener("click", () => {
      sidebar.classList.toggle("-translate-x-full");
      overlay.classList.toggle("hidden");
    });

    overlay.addEventListener("click", () => {
      sidebar.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    });
  });
</script>
